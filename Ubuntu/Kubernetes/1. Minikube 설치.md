# 1. 설치 준비
- References
  - minikube : https://minikube.sigs.k8s.io/docs/start/
  - kubectl : https://kubernetes.io/ko/docs/tasks/tools/install-kubectl-linux/
- 최소 사양
  - CPU : 6 이상
  - Memory : 12GB 이상
  - Disk : 100GB 이상
  - 가상화 tool : Docker, Hyperkit....
- VM스펙 업그레이드(재생성 필요)
  ![image](https://github.com/18-12847/KT_AIVLE_SCHOOL_Study_Backup/assets/118495919/6768f649-7077-4ffc-8ce7-e8730f616178)
  
- Docker 설치
  1. <a href = "https://github.com/18-12847/KT_AIVLE_SCHOOL_Study_Backup/blob/main/Ubuntu/Docker/1.%20%ED%81%B4%EB%A6%BD%EB%B3%B4%EB%93%9C%20%EA%B3%B5%EC%9C%A0%20%ED%99%9C%EC%84%B1%ED%99%94(%EA%B2%8C%EC%8A%A4%ED%8A%B8%20%ED%99%95%EC%9E%A5).md" /> 클립보드 공유 활성화
  2. <a href = "https://github.com/18-12847/KT_AIVLE_SCHOOL_Study_Backup/blob/main/Ubuntu/Docker/2.%20ubuntu%EC%97%90%20docker%20%EC%84%A4%EC%B9%98%20%EB%B0%8F%20%EA%B8%B0%EB%B3%B8%20%EB%AA%85%EB%A0%B9%EC%96%B4.md" /> Docker 설치

# 2. Minikube 설치
- minikube 최신 버전 다운로드, 실행
  ```
  curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
  sudo install minikube-linux-amd64 /usr/local/bin/minikube
  ```
- 설치 확인
  ```
  oh@oh-VirtualBox:~$ minikube version
  
  minikube version: v1.31.2
  commit: fd7ecd9c4599bef9f04c0986c4a0187f98a4396e
  ```

# 3. Kubectl 설치
- Kubernetes cluster(server)에 요청을 간편하게 보내기 위해서 널리 사용되는 client tool
  ```
  #다운로드
  curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
  ```
- kubectl 설치
  ```
  sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl
  ```
- 설치 확인
  ```
  oh@oh-VirtualBox:~$ kubectl version --client
  
  Client Version: v1.28.1
  Kustomize Version: v5.0.4-0.20230601165947-6ce0bf390ce3
  ```
  - kubectl version만 실행하면 client의 버전과 kubernetes server의 버전을 모두 출력하는 명령어라 kubernetes server를 생성하지 않아서 에러 메시지를 출력한다.

# 4. Minikube 시작
- minikube start
  - minikube를 docker driver 기반으로 시작
    ```
    $ minikube start --driver=docker
    ```
    ![image](https://github.com/18-12847/KT_AIVLE_SCHOOL_Study_Backup/assets/118495919/de6db9e1-9706-46fa-98ce-76dd49cccd73)
    - 정상적으로 minikube start가 된 상태
- minikube status
  ```
  oh@oh-VirtualBox:~$ minikube status
  
  minikube
  type: Control Plane
  host: Running
  kubelet: Running
  apiserver: Running
  kubeconfig: Configured
  ```
- server 구동 확인
  ```
  oh@oh-VirtualBox:~$ kubectl version
  
  Client Version: v1.28.1
  Kustomize Version: v5.0.4-0.20230601165947-6ce0bf390ce3
  Server Version: v1.27.4
  ```
  - kubectl을 사용하여 minikube 내부의 default pod들이 정상적으로 생성되었는지 확인
  ```
  oh@oh-VirtualBox:~$ kubectl get pod -n kube-syste
  
  NAME                               READY   STATUS    RESTARTS        AGE
  coredns-5d78c9869d-n5htn           1/1     Running   0               6m6s
  etcd-minikube                      1/1     Running   0               6m16s
  kube-apiserver-minikube            1/1     Running   0               6m16s
  kube-controller-manager-minikube   1/1     Running   0               6m16s
  kube-proxy-rvlms                   1/1     Running   0               6m6s
  kube-scheduler-minikube            1/1     Running   0               6m16s
  storage-provisioner                1/1     Running   1 (5m34s ago)   6m15s
  ```

# 5. Minikube 삭제
- minikube delete
  ```
  oh@oh-VirtualBox:~$ minikube delete
  
  🔥  docker 의 "minikube" 를 삭제하는 중 ...
  🔥  Deleting container "minikube" ...
  🔥  /home/oh/.minikube/machines/minikube 제거 중 ...
  💀  "minikube" 클러스터 관련 정보가 모두 삭제되었습니다
  ```
