# 1. MLflow 설치
- 초기 설정
  - 터미널 사용 가능한 OS(Window, ubuntu20.04 등)
  - python 가상 환경(conda, 3.6이상, pip3)
    ```
    oh@oh-VirtualBox:~$ wget https://repo.anaconda.com/archive/Anaconda3-2021.05-Linux-x86_64.sh

    oh@oh-VirtualBox:~$ bash Anaconda3-2021.05-Linux-x86_64.sh #계속 엔터

    (base) oh@oh-VirtualBox:~$ conda create -n myenv python=3.8
    (base) oh@oh-VirtualBox:~$ conda activate myenv
    (myenv) oh@oh-VirtualBox:~$ python3 --version
    Python 3.8.18

    (myenv) oh@oh-VirtualBox:~$ pip3 --version
    pip 23.2.1 from /home/oh/anaconda3/envs/myenv/lib/python3.8/site-packages/pip (python 3.8)
    ```
```
(myenv) oh@oh-VirtualBox:~$ mkdir mlflow-tutorial
(myenv) oh@oh-VirtualBox:~$ cd mlflow-tutorial/
(myenv) oh@oh-VirtualBox:~/mlflow-tutorial$ python3 --version
Python 3.8.18

(myenv) oh@oh-VirtualBox:~/mlflow-tutorial$ pip install mlflow
(myenv) oh@oh-VirtualBox:~/mlflow-tutorial$ mlflow --version
mlflow, version 2.7.0
```

# 2. MLflow tracking server 실행
```
oh@oh-VirtualBox:~/mlflow-tutorial$ mlflow ui --help
Usage: mlflow ui [OPTIONS]
  Run the MLflow tracking server.
  The server listens on http://localhost:5000 by default and only accepts
  connections from the local machine. To let the server accept connections
  from other machines, you will need to pass ``--host 0.0.0.0`` to listen on
  all network interfaces (or a specific interface address).

oh@oh-VirtualBox:~/mlflow-tutorial$ mlflow server --help
Usage: mlflow server [OPTIONS]
  Run the MLflow tracking server.
  The server listens on http://localhost:5000 by default and only accepts
  connections from the local machine. To let the server accept connections
  from other machines, you will need to pass ``--host 0.0.0.0`` to listen on
  all network interfaces (or a specific interface address).

(myenv) oh@oh-VirtualBox:~/mlflow-tutorial$ mlflow ui
[2023-09-15 22:52:47 +0900] [4944] [INFO] Starting gunicorn 21.2.0
[2023-09-15 22:52:47 +0900] [4944] [INFO] Listening at: http://127.0.0.1:5000 (4944)
[2023-09-15 22:52:47 +0900] [4944] [INFO] Using worker: sync
[2023-09-15 22:52:47 +0900] [4946] [INFO] Booting worker with pid: 4946
[2023-09-15 22:52:47 +0900] [4947] [INFO] Booting worker with pid: 4947
[2023-09-15 22:52:47 +0900] [4948] [INFO] Booting worker with pid: 4948
[2023-09-15 22:52:47 +0900] [4955] [INFO] Booting worker with pid: 4955
```
- 로컬, 가벼운 mlflow ui로 MLflow tracking server 실행
- 터미널을 켜둔 상태에서 http://localhost:5000 또는 http://127.0.0.1:5000 접속
  - 터미널 꺼지면 MLflow tracking server도 종료
- 정상 실행 화면
![image](https://github.com/18-12847/KT_AIVLE_SCHOOL_Study_Backup/assets/118495919/ea159de4-8041-45d6-993a-df16d2d800b9)
- mlruns라는 디렉토리가 생성됨
  ```
  (base) oh@oh-VirtualBox:~$ conda activate myenv
  (myenv) oh@oh-VirtualBox:~$ cd mlflow-tutorial/
  (myenv) oh@oh-VirtualBox:~/mlflow-tutorial$ ls
  mlruns

  (myenv) oh@oh-VirtualBox:~/mlflow-tutorial$ cd mlruns
  (myenv) oh@oh-VirtualBox:~/mlflow-tutorial/mlruns$ ls
  0  models

  (myenv) oh@oh-VirtualBox:~/mlflow-tutorial/mlruns$ cd 0
  (myenv) oh@oh-VirtualBox:~/mlflow-tutorial/mlruns/0$ ls
  meta.yaml

  (myenv) oh@oh-VirtualBox:~/mlflow-tutorial/mlruns/0$ cat meta.yaml
  artifact_location: mlflow-artifacts:/0
  creation_time: 1694785967688
  experiment_id: '0'
  last_update_time: 1694785967688
  lifecycle_stage: active
  name: Default
  ```
  - mlflow ui 실행 시 --backend-store-uri, -default-artifact-root 옵션을 주지 않은 경우, mlflow ui를 실행한 디렉토리에 mlruns 디렉토리 생성 후 실험 관련 데이터 저장
  - 이 디렉토리만 존재하면 mlflow ui 터미널을 종료한 뒤, 다시 실행시켜도 동일한 화면이 뜸
